{"version":3,"file":"send_push_notifications.js","sourceRoot":"","sources":["../src/send_push_notifications.ts"],"names":[],"mappings":";;AAAA,iCAAkC;AAGrB,QAAA,oBAAoB,GAAG,UAAC,OAAe,EAAE,cAAsB;IAExE,EAAE,CAAC,CAAC,OAAO,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC;QAE9B,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAA;IACrC,CAAC;IAED,OAAO,CAAC,IAAI,CAAC,0CAA0C,EAAE;QACrD,IAAI,EAAE;YACF,KAAK,EAAE,gCAAgC;YACvC,IAAI,EAAE,gCAAgC;YACtC,KAAK,EAAE,sBAAsB;YAC7B,GAAG,EAAE,kDAAgD,cAAgB;YACrE,OAAO,EAAE,OAAO;SACnB;KACJ,EAAE,UAAA,GAAG;QAEF,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACN,MAAM,GAAG,CAAA;QACb,CAAC;QAED,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAA;QAEtC,0EAA0E;IAC9E,CAAC,CAAC,CAAA;AACN,CAAC,CAAA","sourcesContent":["import * as request from 'request'\n\n\nexport const sendPushNotification = (message: string, monologEntryId: string) => {\n\n    if (typeof message !== 'string') {\n\n        message = JSON.stringify(message)\n    }\n\n    request.post(`https://api.pushover.net/1/messages.json`, {\n        form: {\n            token: 'apwmscqq8sz67hy3jc8uyurc6uq1a7',\n            user: 'umkmpemhynmcfe9t4yqjyf317474hy',\n            title: 'Monolog Severe Error',\n            url: `http://stellium.io/stellium/expecto_patronum/${monologEntryId}`,\n            message: message\n        }\n    }, err => {\n\n        if (err) {\n            throw err\n        }\n\n        console.log('Push Notification sent!')\n\n        // MonologModel.findByIdAndUpdate(monologEntryId, {status: 'transported'})\n    })\n}\n"]}